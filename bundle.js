!function(e,n){for(var t in n)e[t]=n[t]}(this,function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=2)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var a=n.Upgrade=function(){function e(n,t,r,a){o(this,e),this.name=n,this.baseCost=t,this.baseProduction=r,this.growthMultiplier=a,this.productionUnit="sales per second",this.numOwned=0}return r(e,[{key:"production",value:function(){return this.baseProduction*this.numOwned}},{key:"costToUpgrade",value:function(){return this.baseCost*Math.pow(this.growthMultiplier,this.numOwned)}},{key:"buy",value:function(e,n){var t=this.costToUpgrade();if(e<t)return!1;var r=e-t;return this.numOwned+=1,[r,n+this.production()]}}]),e}();n.BaseProductionUpgrade=function(e){function n(e,t,r){o(this,n);var a=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t,r,1));return a.productionUnit="sale value",a}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a),r(n,[{key:"buy",value:function(e,t){return!(this.numOwned>0)&&function e(n,t,r){null===n&&(n=Function.prototype);var o=Object.getOwnPropertyDescriptor(n,t);if(void 0===o){var a=Object.getPrototypeOf(n);return null===a?void 0:e(a,t,r)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(r):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"buy",this).call(this,e,t)}},{key:"costToUpgrade",value:function(){return this.baseCost}}]),n}()},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return t}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();n.setMoney=function(e){l=e},n.stats=function(){console.log(l),console.log("baseproduction",a),console.log("auto",i),console.log(c),console.log(s)};var o=t(0),a=1,i=0,u=void 0,c=[new o.BaseProductionUpgrade("Instagram",100,1),new o.BaseProductionUpgrade("Facebook",5e3,1),new o.BaseProductionUpgrade("POS",5e4,2),new o.BaseProductionUpgrade("Carrier Pigeon",1e5,2)],s=[new o.Upgrade("Post Ad in Newspaper",80,.5,1.07),new o.Upgrade("Install SEO Boosing App",500,4,1.07),new o.Upgrade("Hire Marketing Intern",6e3,50,1.07),new o.Upgrade("Install KIT",8e4,750,1.07)],l=0,d=0;function f(){!function(){try{var e=JSON.parse(localStorage.getItem("saveData"));e&&(l=e.money,c.forEach(function(n){e.baseUpgrades[n.name]&&(n.numOwned=e.baseUpgrades[n.name])}),s.forEach(function(n){e.marketingUpgrades[n.name]&&(n.numOwned=e.marketingUpgrades[n.name])}),a=U(c)+1,i=U(s),w("sales-per-second",y(U(s),2)))}catch(e){console.error(e)}}(),c.forEach(function(e){g("sell-on-container",e.name,e),e.numOwned>0&&b(e.name)}),s.forEach(function(e){g("increase-sales-container",e.name,e)}),document.getElementById("sell-on-container").addEventListener("click",function(e){var n=h(e);if(n&&l>=n.costToUpgrade()){var t=n.buy(l,a)||[l,a],o=r(t,2);l=o[0],a=o[1],w("sale-profit",U(c)+1),b(n.name)}}),document.getElementById("increase-sales-container").addEventListener("click",function(e){var n=h(e);if(n&&l>=n.costToUpgrade()){var t=n.buy(l,i)||[l,i],o=r(t,2);l=o[0],i=o[1],w(n.name,O(n.costToUpgrade())),w("sales-per-second",y(U(s),2)),w(n.name+"_label",v(n))}})}function p(){l+=i*a/30,++d%150==0&&(m(),d=0),l>=1e7&&(clearInterval(u),alert("You won.")),document.getElementById("profits").textContent=Math.round(l)}function g(e,n,t){var r=document.createElement("div"),o=document.createElement("button"),a=document.createElement("label"),i=document.getElementById(e),u="<strong>"+t.name+"</strong>";a.innerHTML=" "+u+" +"+t.baseProduction+" "+t.productionUnit+"\n                        ("+t.numOwned+" owned)",a.innerHTML=v(t),a.setAttribute("id",n+"_label"),o.innerHTML=""+O(t.costToUpgrade()),o.setAttribute("id",n),r.appendChild(o),r.appendChild(a),i.appendChild(r)}function m(){var e={money:l,baseUpgrades:{},marketingUpgrades:{}};c.forEach(function(n){e.baseUpgrades[n.name]=n.numOwned}),s.forEach(function(n){e.marketingUpgrades[n.name]=n.numOwned});try{localStorage.setItem("saveData",JSON.stringify(e))}catch(e){console.error(e)}}function h(e){return!(!e.target||!e.target.matches("button"))&&function(e){for(var n=0;n<s.length;n++)if(s[n].name===e)return s[n];for(var t=0;t<c.length;t++)if(c[t].name===e)return c[t];return null}(e.path[0].id)}function v(e){return" "+("<strong>"+e.name+"</strong>")+" +"+y(e.baseProduction,2)+" "+e.productionUnit+"\n                        ("+e.numOwned+" owned)"}function y(e,n){var t=Math.pow(10,n);return Math.round(e*t)/t}function b(e){document.getElementById(e).setAttribute("disabled",!0)}function w(e,n){document.getElementById(e).innerHTML=n}function O(e){return"$"+Math.round(e)}function U(e){var n=0;return e.forEach(function(e){n+=e.production()}),n}window.onload=function(){f(),u=setInterval(p,33)},document.getElementById("sellButton").addEventListener("click",function(){l+=a}),document.getElementById("saveButton").addEventListener("click",function(){m()})},function(e,n,t){e.exports=t(1)}]));